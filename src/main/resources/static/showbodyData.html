<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Creative - Bootstrap 3 Responsive Admin Template">
    <meta name="author" content="GeeksLabs">
    <meta name="keyword" content="Creative, Dashboard, Admin, Template, Theme, Bootstrap, Responsive, Retina, Minimal">
    <!-- <link rel="shortcut icon" href="img/favicon.png"> -->

    <title>Form Component | Creative - Bootstrap 3 Responsive Admin Template</title>

    <!-- Bootstrap CSS -->    
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <!-- bootstrap theme -->
    <link href="css/bootstrap-theme.css" rel="stylesheet">
    <!--external css-->
    <!-- font icon -->
    <link href="css/elegant-icons-style.css" rel="stylesheet" />
    <link href="css/font-awesome.min.css" rel="stylesheet" />
    <!-- date picker -->
    
    <!-- color picker -->
    
    <!-- Custom styles -->
    <link href="css/style.css" rel="stylesheet">
    <link href="css/style-responsive.css" rel="stylesheet" />

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 -->
    <!--[if lt IE 9]>
      <script src="js/html5shiv.js"></script>
      <script src="js/respond.min.js"></script>
      <script src="js/lte-ie7.js"></script>
    <![endif]-->

  </head>
  <body>

  <!-- container section start -->
  <div  id="userBodyData">    
  <section id="container" class="">
      <!--header start-->
        <header class="header dark-bg">
            <div class="toggle-nav">
                <div class="icon-reorder tooltips" data-original-title="Toggle Navigation" data-placement="bottom"></div>
            </div>

            <!--logo start-->
            <a href="index.html" class="logo">运动处方 <span class="lite">系统</span></a>
            <!--logo end-->
            <div class="top-nav notification-row">                
                <!-- notificatoin dropdown start-->
                <ul class="nav pull-right top-menu">
                    <!-- user login dropdown start-->
                    <li class="dropdown">
                        <a data-toggle="dropdown" class="dropdown-toggle" href="#">
                            <span class="profile-ava">
                                <img alt="" src="img/avatar1_small.jpg">
                            </span>
                            <span class="username">{{username}}</span>
                            <b class="caret"></b>
                        </a>
                        <ul class="dropdown-menu extended logout">
                            <div class="log-arrow-up"></div>
                            <li>
                                <a v-on:click="logout"><i class="icon_key_alt"></i> 退出</a>
                            </li>
                            
                        </ul>
                    </li>
                    <!-- user login dropdown end -->
                </ul>
                <!-- notificatoin dropdown end-->
            </div>
      </header>     
      <!--header end-->

      <!--sidebar start-->
            
             
      <aside>
        <div id="sidebar"  class="nav-collapse "  font-size= 5px>
            <!-- sidebar menu start-->
            <ul class="sidebar-menu">                
                <li class="active">
                    <a class="" href="index.html">
                        <i class="icon_house_alt"></i>
                        <span  style="font-size:14px">运动处方管理系统</span>
                    </a>
                </li>
                <li>
                    <a class="" href="questionBody.html">
                        <i class="icon_genius"></i> 
                        <span style="font-size:14px">个人健康状况调查</span>
                    </a>
                </li>
                <li>
                    <a class="" href="bodyDataAdd.html">
                        <i class="icon_genius"></i> 
                        <span style="font-size:14px">个人体质数据录入</span>
                    </a>
                </li>
                

            <li class="sub-menu">
                <a href="javascript:;" class="">
                    <i class="icon_piechart"></i>
                    <span style="font-size:13px" >乒乓球运动处方</span>   
                    <span class="menu-arrow arrow_carrot-right"></span>
                </a>
                <ul class="sub">
                    <li><a class="" href="basic_table_ks.html"> <span style="font-size:14px">对抗模式   </span></a></li>                          
                    <li><a class="" href="trainpingpang.html"> <span style="font-size:14px">训练模式  </span></a></li>
                </ul>
                </li>  

               <li class="sub-menu">
                <a href="javascript:;" class="">
                    <i class="icon_piechart"></i>
                    <span style="font-size:13px" >运动健康管理</span>   
                    <span class="menu-arrow arrow_carrot-right"></span>
                </a>
                <ul class="sub">
                    <li><a class="" href="lookBodyQuestionnareTable.html"> <span style="font-size:14px">个人健康问卷   </span></a></li>                          
                    <li><a class="" href="lookBodyDataTable.html"> <span style="font-size:14px">个人体质数据  </span></a></li>
                    <li><a class="" href="basic_table.html"> <span style="font-size:14px">基础健康处方  </span></a></li>
                    <li><a class="" href="lookAllPrescription.html"> <span style="font-size:14px">乒乓球运动处方  </span></a></li>
                </ul>
                </li>  
                           
               <!-- <li class="sub-menu">
                <a href="javascript:;" class="">
                    <i class="icon_document_alt"></i>
                    <span style="font-size:13px">当前运动处方</span>
                    <span class="menu-arrow arrow_carrot-right"></span>
                </a>
                <ul class="sub">
                    <li><a class="" href="basic_table.html"> <span style="font-size:14px">乒乓球对抗模式  </span></a></li>                          
                    <li><a class="" href="trainpingpang.html"> <span style="font-size:14px">乒乓球训练模式   </span></a></li>
                </ul>
              </li>   -->

              
              <li>
                <a class="" href="feedBackQuestion.html">
                    <i class="icon_genius"></i> 
                    <span style="font-size:14px">疲劳反馈问卷</span>
                </a>
            </li>
            </ul>
            <!-- sidebar menu end-->
        </div>
      </aside>



      <!--sidebar end-->

      <!--main content start-->
      <section id="main-content">
          <section class="wrapper">
		  <div class="row">
				<div class="col-lg-12">
					<h3 class="page-header"><i class="fa fa-file-text-o"></i> Form elements</h3>
					<ol class="breadcrumb">
						<li><i class="fa fa-home"></i><a href="index.html">Home</a></li>
						<li><i class="icon_document_alt"></i>Forms</li>
						<li><i class="fa fa-file-text-o"></i>Form elements</li>
					</ol>
				</div>
		   </div>
              <div class="row">
                  <div class="col-lg-12">
                      <section class="panel">
                          <header class="panel-heading">
                            个人体质数据录入
                          </header>

                        <div  id="userBodyData">
                          <div class="panel-body">
                          
                                  <div class="form-group">
                                      <label class="col-sm-2 control-label">性别</label>
                                      <div class="col-sm-10">
                                          <!-- <input type="text" class="form-control"> -->
                                          <div class="radio" class="col-sm-4">
                                        
                                                <input type="radio"     :disabled="true"    v-model='user.sexual' value="1" id="sex1">
                                                女
                                          
                                        </div>
                                        <div class="radio" class="col-sm-4">
                                           
                                                <input type="radio"   :disabled="true"   v-model='user.sexual' value="0" id="sex2">
                                               男
                                        
                                        </div>
                                      </div>
                                  </div>
                                  <div class="form-group">
                                      <label class="col-sm-2 control-label">年龄</label>
                                      <div class="col-sm-10">
                                          <input type="text"    :disabled="true"      class="form-control" id="age"  v-model.number='user.age'>
                                          <!-- <span class="help-block">请输入自己的实际年龄</span> -->
                                      </div>
                                  </div>
                                  <div class="form-group">
                                    <label class="col-sm-2 control-label">身高</label>
                                    <div class="col-sm-10">
                                        <input class="form-control"   :disabled="true"       id="height"  v-model.number='user.height' type="text" >
                                    </div>
                                  </div>
                                  <div class="form-group">
                                      <label class="col-sm-2 control-label">体重</label>
                                      <div class="col-sm-10">
                                          <input class="form-control"   :disabled="true"      id="weight"  v-model.number='user.weight' type="text" >
                                      </div>
                                  </div>
                                  <div class="form-group">
                                    <label class="col-sm-2 control-label">肌肉重量</label>
                                    <div class="col-sm-10">
                                        <input class="form-control"    :disabled="true"    id="muscleMass"  v-model.number='user.muscleMass' type="text">
                                    </div>
                                </div>
                               
                                <div class="form-group">
                                      <label class="col-sm-2 control-label">脂肪重量</label>
                                      <div class="col-sm-10">
                                          <input type="text"   :disabled="true"      id="fatWeight"  v-model.number='user.fatWeight' class="form-control" >
                                      </div>
                                </div>
                                
                                  <div class="form-group">
                                    <label class="col-sm-2 control-label">体脂率</label>
                                    <div class="col-sm-10">
                                        <input type="text"   :disabled="true"    id="fatPercentage"  v-model.number='user.fatPercentage'  class="form-control" >
                                    </div>
                                  </div> 

                                    <div class="form-group">
                                        <label class="col-sm-2 control-label">BIM</label>
                                        <div class="col-sm-10">
                                            <input type="text"     :disabled="true"  id="bodyMassIndex"  v-model.number='user.bodyMassIndex'   class="form-control" >
                                         </div>
                                    </div>     

                                    <div class="form-group">
                                        <label class="col-sm-2 control-label">基础代谢率</label>
                                        <div class="col-sm-10">
                                        <input type="text"   :disabled="true"  id="basalMetabolicRate"  v-model.number='user.basalMetabolicRate'    class="form-control" >
                                        </div>
                                    </div>

                                    <div class="form-group">
                                        <label class="col-sm-2 control-label">静息心率</label>
                                        <div class="col-sm-10">
                                        <input type="text"     :disabled="true"   id="heartRateRest"  v-model.number='user.heartRateRest'    class="form-control" >
                                       </div>
                                    </div>
                          </div>
                        </div> 
                   </div>
               </div>
         </section>  
     </section>  
   </section>     
</div>
<!-- Vue 显示 -->



<script src="js/vue.js"></script>
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script>
    var apiUrl='http://www.myapp.com:8080/humanstature?id='


    var loginUrl="login.html"
    var logoutUrl="http://www.myapp.com:8080/auth/logout"
    var checkIsLoginUrl="http://www.myapp.com:8080/auth"

    



    new Vue({
        el: "#userBodyData",
        data: {
            username:'',
            user: {
                bid:'',
                sexual: '', 
                age: '',
                height: '',
                weight: '',
                muscleMass: '',
                fatWeight: '',
                fatPercentage: '',
                bodyMassIndex: '',
                basalMetabolicRate: '',
                heartRateRest:''
            } 
        },
        methods: {
            GetQuestionareData: function () {
                    console.log("开始");
                    _this = this
                    axios({
                        url: apiUrl+this.bid,
                        method: "get",
                        headers: {
                            "Content-Type": "application/json;charset=utf-8"
                        }
                    }).then(function(response){
                        console.log("获取体质数据")
                     console.log(response.data.data[0])
                      if(response.data.status=='OK'){
                        _this.user.sexual=response.data.data[0].sexual
                        _this.user.age=response.data.data[0].age
                        _this.user.height=response.data.data[0].height
                        _this.user.weight=response.data.data[0].weight
                        _this.user.muscleMass=response.data.data[0].muscleMass
                        _this.user.fatWeight=response.data.data[0].fatWeight
                        _this.user.fatPercentage=response.data.data[0].fatPercentage
                        _this.user.bodyMassIndex=response.data.data[0].bodyMassIndex
                        _this.user.basalMetabolicRate=response.data.data[0].basalMetabolicRate
                        _this.user.heartRateRest=response.data.data[0].heartRateRest

                      }else{
                        console.log(response.data.msg);
                      }
                    })
                },
            getId:function(){
                    var test = window.location.href
                    this.bid = test.split("?pingid=")[1]
                    console.log("获取参数")
                    console.log(this.bid)
            },
            
            logout:function(){
                    axios({
                        url: logoutUrl,
                        method: "get",
                        headers: {
                            "Content-Type": "application/json"
                        }
                    }).then(function(response){
                        if(response.data.status=='OK'){ 
                            window.open(loginUrl,'_self')
                            alert(response.data.msg)
                           
                        }

                    })
                },
                checkIsLogin:function(){
                    axios({
                        url:checkIsLoginUrl,
                        method:'get',
                        headers: {
                            "Content-Type": "application/json"
                        }
                        }).then(function(response){
                            if(!response.data.isLogin){
                                window.open(loginUrl,'_self')
                            }
                       })          
                }




        },
        created() {   //自动触发写入的函数
                this.username=JSON.parse(sessionStorage.getItem("username")); 
                this.checkIsLogin()
                console.log('created!!!!!')
                this.getId();
                this.GetQuestionareData();
                
            }
    })
</script>
      <!--main content end-->

  <!-- container section end -->
    <!-- javascripts -->
    <script src="js/jquery.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <!-- nice scroll -->
    <script src="js/jquery.scrollTo.min.js"></script>
    <script src="js/jquery.nicescroll.js" type="text/javascript"></script>

    <!-- jquery ui -->
    <script src="js/jquery-ui-1.9.2.custom.min.js"></script>

    <!--custom checkbox & radio-->
    <script type="text/javascript" src="js/ga.js"></script>
    <!--custom switch-->
    <script src="js/bootstrap-switch.js"></script>
    <!--custom tagsinput-->
    <script src="js/jquery.tagsinput.js"></script>
    
    <!-- colorpicker -->
   
    <!-- bootstrap-wysiwyg -->
    <script src="js/jquery.hotkeys.js"></script>
    <script src="js/bootstrap-wysiwyg.js"></script>
    <script src="js/bootstrap-wysiwyg-custom.js"></script>
    <!-- ck editor -->
    <script type="text/javascript" src="assets/ckeditor/ckeditor.js"></script>
    <!-- custom form component script for this page-->
    <!-- <script src="js/form-component.js"></script> -->
    <!-- custome script for all page -->
    <script src="js/scripts.js"></script>
  

  </body>
</html>
